<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knowledge_representation: knowledge_representation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knowledge_representation<span id="projectnumber">&#160;master</span>
   </div>
   <div id="projectbrief">Persistent knowledge for robots</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">knowledge_representation </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/utexas-bwi/knowledge_representation/actions?query=workflow%3ACI"><img src="https://github.com/utexas-bwi/knowledge_representation/workflows/CI/badge.svg" alt="CI" style="pointer-events: none;" class="inline"/></a></p>
<p >Mechanisms for storing and querying information about the world. A nicely packaged <a href="https://en.wikipedia.org/wiki/Database_schema">database schema</a> to structure the kinds of knowledge that a robot might need and tools for <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD operations</a> within that structure. Integrate it into your robot's perception so you can query where objects were seen, or into your task planning system so you can easily manage all of your facts.</p>
<ul>
<li>Persistent storage of facts and map geometry backed by a local PostgreSQL database</li>
<li>Convenient APIs for common queries, like getting all instances of a type of object</li>
<li>Link directly against your C++ code, or import a Python binding</li>
<li>Not dependent on ROS, but easy to integrate into ROS projects</li>
</ul>
<h1><a class="anchor" id="autotoc_md10"></a>
Representation</h1>
<p >Knowledge is broken up into <em>concepts</em>, <em>instances</em> and <em>attributes</em>.</p>
<p ><b>Concepts</b> are abstract ideas. They represent the <em>idea</em> of something. For example, the general idea of an apple but not any one apple in particular.</p>
<p ><b>Instances</b> are concrete, usually physical manifestations of concepts. You could have a dozen instances of a concept like apple.</p>
<p >Both concepts and instances are <b>entities</b> in the knowledgebase. Each entity is granted a unique identifying number.</p>
<p ><b>Attributes</b> tie entities together and store data about them. Each attribute has a name and a type. For example, an apple instance might be <em>on</em> some other instance. The attribute is named <code>is_on</code> and its type is <code>entity_id</code>, because it relates some entity to another. Attributes with a value type of <code>entity_id</code> are also called <b>relations</b> because they relate entities to each other. Attributes with types other than <code>entity_id</code> function more like properties; for example, the relation <code>is_graspable</code> with a type of <code>bool</code> is just storing a simple fact about an entity.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Map Types</h2>
<p >Mobile robots often have to answer questions like "what room am I in?" or "which is the nearest X?". knowledge_representation includes special affordances for representing 2D geometric information that can be queried to answer these kinds of questions:</p>
<ul>
<li><b>Points</b> are a special kind of instance which store an x and y coordinate.</li>
<li><b>Poses</b> are a special kind of instance which store an x and y coordinate as well as a direction.</li>
<li><b>Regions</b> are a special kind of instance which store a list of x and y coordinates defining a closed region.</li>
<li><b>Doors</b> are a special kind of instance which store a pair of x and y coordinates defining a door.</li>
</ul>
<p >All of these types are uniquely tied to a single <b>map</b>, a special kind of instance.</p>
<p >Like concepts, all of these geometric types <em>must</em> have names configured. Without names attached, there isn't enough semantic information to support any kind of useful operation. What would it mean for a point to be in a region if neither the point nor the region had names?</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Installation</h1>
<p >Make sure you've pulled down the package dependencies using rosdep </p><pre class="fragment">rosdep install --from-paths . -ry
</pre><p> Then run one of <code>scripts/configure_{mysql,postgresql}.sh</code> to install the default database configuration and schema. <b>PostgreSQL is the preferred backend.</b></p>
<h1><a class="anchor" id="autotoc_md13"></a>
Usage</h1>
<p >Integrate knowledge_representation by using the API wherever you need to store facts and observations that the robot might need later. Use the same API to retrieve facts en masse so you can plan over them, inspect them, or do whatever else you need for your application.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
C++/Python API</h2>
<p >To create applications that store and query, link your C++ against the <code>knowledge_rep</code> library or just import the <code>knowledge_representation</code> Python module. See the <a href="https://utexas-bwi.github.io/knowledge_representation/">documentation for the latest version of the C++ API</a> and example usage in <code>test/*.cpp</code>. The Python API is a generated wrapper, so must classes and methods are the same but with snake case conventions. See scripts <code>test_ltmc</code> or <code>scripts/show_me</code> for example usage, and try out the <code>ikr</code> script to interactively explore the API.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Loading Knowledge</h2>
<p >Scripts are provided for bulk loading knowledge. This is helpful if say, you want to load in map annotations, or you have an ontology that you want to use to initialize the robot's knowledge.</p>
<p ><code>populate_with_map</code> loads in SVG map annotations (marked over an image, ROS-style map). See <code>test/resources</code> for some example SVG files. In the future, we'll provide a simple browser-based annotator as well.</p>
<p ><code>populate_with_[knowledge|owl|xml]</code> support loading in different kinds of ontologies. Documentation and example files will come in a later release.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Exploration</h2>
<p >Once your robot has accumulated knowledge, you'll want to poke around. Use the <code>show_me</code> script to quickly see a summary of the current knowledge, then pass it an ID or a name to see details about entities and their relations.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
As Part of a ROS System</h2>
<p >Once you add <code>knowledge_representation</code> to your package's dependencies, your code will link against the library that provides the APIs.</p>
<p >The <code>populate_</code> scripts are geared towards use in a launch files. For instance, to load a map on launch, just add a line like this to your launch file: </p><pre class="fragment">&lt;node name="load_map_annotations" pkg="knowledge_representation" type="populate_with_map" args="$(find my_map_package)/maps/map_name.yaml"/&gt;
</pre><p> Once the package is built in a catkin workspace, you can access additional shell shortcuts:</p>
<ul>
<li><code>ikr</code>: run the iPython environment</li>
<li><code>krquery</code>: run a SQL query against the knowledgebase</li>
<li><code>krsave</code>: save a SQL-dump of the current knowledgebase</li>
<li><code>krshow</code>: run <code>show_me</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md18"></a>
Development</h1>
<p >If you're working on the MySQL interface, we access the backing store via the xdev API. See the <a href="https://dev.mysql.com/doc/dev/connector-cpp/8.0/">documentation</a> for the official MySQL xdev API C++ library. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Apr 27 2022 17:26:13 for knowledge_representation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
